(function(){"use strict";var e={9893:function(e,t,n){var o=n(9242),r=n(3396);const s={key:0};function i(e,t,n,o,i,a){const l=(0,r.up)("router-view");return this.$store.state.openned?((0,r.wg)(),(0,r.iD)("div",s,[(0,r.Wm)(l)])):(0,r.kq)("",!0)}n(7658);var a=n(4161),l={data:function(){return{}},methods:{SendToClient:function(e,t){a.Z.post(`https://${this.$store.state.nameResource}/${e}`,t).catch((t=>console.log(`An error has occurred (Main): ${e} : ${t}`)))},ReceiveLua:function(e){if(!e||!e.data)return;const t=e.data;t.config?(this.$store.commit("SetTranslation",t.translate),this.$store.commit("SetNameResource",t.namResource),this.$store.commit("SetSingleSignature",t.singleSignature),this.$store.commit("SetHideAnonymous",t.hideAnonymous),this.$store.commit("SetDateFormat",t.dateFormat)):t.openRecord?(this.$store.commit("SetNameReport",t.information.nameReport),this.$store.commit("SetNextId",t.information.nextId),this.$router.replace({name:"RecordView",params:{id:-1}}),this.$store.commit("SetOpenned",!0)):t.openComputer&&(this.$store.commit("SetOpenned",!0),this.$store.commit("SetRecords",t.records),this.$router.push({name:"ComputerView"}))},Close:function(){this.SendToClient("Close",{}),this.$store.commit("SetOpenned",!1),this.$router.replace({path:"/"})},KeyPress:function(e){const t=e.key;"Escape"==t&&this.Close()}},unmounted:function(){window.removeEventListener("message",this.ReceiveLua),window.removeEventListener("keydown",this.KeyPress)},created:function(){window.addEventListener("message",this.ReceiveLua),window.addEventListener("keydown",this.KeyPress)}},c=n(89);const d=(0,c.Z)(l,[["render",i]]);var u=d,h=n(2483),m=n(7139);const p=e=>((0,r.dD)("data-v-633db918"),e=e(),(0,r.Cn)(),e),g={class:"paperScope lg-column"},R={class:"close"},_={class:"titleScope lg-column lg-justifyCenter lg-alignCenter"},f=p((()=>(0,r._)("img",{src:"img/police.png",alt:""},null,-1))),T={class:"vollkorn"},v={class:"informationScope lg-line lg-justifyBetween vollkorn"},w={class:"timerScope lg-line"},y={class:"documentScope lg-flex"},S={class:"confirmationScope"},C={key:0,class:"confirmationAnim",src:"img/confirmation.png",alt:""},E={class:"charData lg-line lg-alignCenter"},k={class:"vollkorn"},D={key:0,class:"specialElite"},O={key:1,class:"specialElite"},A={class:"charData lg-line lg-alignCenter"},$={class:"vollkorn"},N=["placeholder","readonly"],I={key:1,class:"specialElite"},x={class:"charData lg-line lg-alignCenter"},L={class:"vollkorn"},P=["placeholder","readonly"],b={key:1,class:"specialElite"},M={class:"charData charDataReport lg-line"},z={class:"vollkorn"},B=["readonly"],U={class:"checkBox first lg-line"},F={key:0,class:"fas fa-times"},j={key:0,class:"fas fa-times"},V={class:"signature"},H={key:0,class:"dancingScript"},q={key:1,class:"dancingScript"},G={class:"vollkorn"},Z={key:0,class:"signature"},K={class:"dancingScript"},Y={class:"vollkorn"},J={key:0,class:"carimboScope lg-column lg-flex"},W=p((()=>(0,r._)("img",{class:"carimbo",src:"img/carimbo.png",alt:""},null,-1))),Q={class:"finished lg-column lg-alignCenter lg-justifyCenter"},X={class:"carterOne"};function ee(e,t,n,s,i,a){return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("div",{class:(0,m.C_)(["lg-line",{centralScope:-1==n.id,centralScope2:-1!=n.id}])},[(0,r._)("div",g,[(0,r._)("div",R,[(0,r._)("img",{src:"img/x.png",class:"",onClick:t[0]||(t[0]=(...e)=>a.Close&&a.Close(...e))})]),(0,r._)("div",_,[f,(0,r._)("h2",T,(0,m.zw)(e.translate.TR_POLICE_DEPARTMENT),1)]),(0,r._)("div",v,[(0,r._)("p",null,(0,m.zw)(e.translate.TR_REGISTRATION_NUMBER)+": "+(0,m.zw)(e.record.id),1),(0,r._)("div",w,[(0,r._)("p",null,(0,m.zw)(e.record.date),1),(0,r._)("p",null,(0,m.zw)(e.record.hours),1)])]),(0,r._)("div",y,[(0,r._)("div",S,[e.confirmation?((0,r.wg)(),(0,r.iD)("img",C)):(0,r.kq)("",!0)]),(0,r._)("div",E,[(0,r._)("p",k,(0,m.zw)(e.translate.TR_NAME)+":",1),e.isAnonymous?((0,r.wg)(),(0,r.iD)("p",O,"Anonymous")):((0,r.wg)(),(0,r.iD)("p",D,(0,m.zw)(e.record.name),1))]),(0,r._)("div",A,[(0,r._)("p",$,(0,m.zw)(e.translate.TR_JOB)+":",1),e.isAnonymous?((0,r.wg)(),(0,r.iD)("p",I,"Uninformed")):(0,r.wy)(((0,r.wg)(),(0,r.iD)("input",{key:0,class:"specialElite","onUpdate:modelValue":t[1]||(t[1]=t=>e.record.job=t),placeholder:e.translate.TR_INFORM_JOB,readonly:-1!=n.id,spellcheck:"false"},null,8,N)),[[o.nr,e.record.job]])]),(0,r._)("div",x,[(0,r._)("p",L,(0,m.zw)(e.translate.TR_PHONE_NUMBER)+":",1),e.isAnonymous?((0,r.wg)(),(0,r.iD)("p",b,"Uninformed")):(0,r.wy)(((0,r.wg)(),(0,r.iD)("input",{key:0,class:"specialElite","onUpdate:modelValue":t[2]||(t[2]=t=>e.record.number=t),placeholder:e.translate.TR_INFORM_NUMBER,readonly:-1!=n.id,spellcheck:"false"},null,8,P)),[[o.nr,e.record.number]])]),(0,r._)("div",M,[(0,r._)("p",z,(0,m.zw)(e.translate.TR_REPORT)+":",1),(0,r.wy)((0,r._)("textarea",{class:"specialElite reportTextarea lg-flex","onUpdate:modelValue":t[3]||(t[3]=t=>e.record.report=t),ref:"reportTextarea",onInput:t[4]||(t[4]=(...e)=>a.ValidateTextArea&&a.ValidateTextArea(...e)),onFocusin:t[5]||(t[5]=(...e)=>a.RemovePlaceholder&&a.RemovePlaceholder(...e)),onFocusout:t[6]||(t[6]=(...e)=>a.AddPlaceholder&&a.AddPlaceholder(...e)),readonly:-1!=n.id,spellcheck:"false"},null,40,B),[[o.nr,e.record.report]])]),(0,r._)("div",U,[e.hideAnonymous?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("div",{key:0,class:"inputCheckBox lg-line lg-alignCenter lg-justifyCenter",onClick:t[7]||(t[7]=t=>a.SetAnonymous(!e.isAnonymous))},[e.isAnonymous?((0,r.wg)(),(0,r.iD)("i",F)):(0,r.kq)("",!0)])),e.hideAnonymous?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("p",{key:1,class:"vollkorn checkBoxText",onClick:t[8]||(t[8]=t=>a.SetAnonymous(!e.isAnonymous))},(0,m.zw)(e.translate.TR_ANONYMOUS),1))]),(0,r._)("div",{class:(0,m.C_)(["checkBox last lg-line",{declareAnim:e.notDeclared}])},[(0,r._)("div",{class:"inputCheckBox lg-line lg-alignCenter lg-justifyCenter",onClick:t[9]||(t[9]=t=>a.SetDeclaration(!e.hasDeclaration))},[e.hasDeclaration?((0,r.wg)(),(0,r.iD)("i",j)):(0,r.kq)("",!0)]),(0,r._)("p",{class:"vollkorn checkBoxText",onClick:t[10]||(t[10]=t=>a.SetDeclaration(!e.hasDeclaration))},(0,m.zw)(e.translate.TR_DECLARATION),1)],2),(0,r._)("div",{class:(0,m.C_)(["signaturesScope lg-line",{["lg-justifyBetween"]:!e.singleSignature,["lg-justifyCenter"]:e.singleSignature}])},[(0,r._)("div",V,[e.isAnonymous?((0,r.wg)(),(0,r.iD)("p",q,"匿名")):((0,r.wg)(),(0,r.iD)("p",H,(0,m.zw)(e.record.name),1)),(0,r._)("p",G,(0,m.zw)(e.translate.TR_DECLARANT),1)]),e.singleSignature?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("div",Z,[(0,r._)("p",K,(0,m.zw)(e.translate.TR_NAME_DIRECTOR),1),(0,r._)("p",Y,(0,m.zw)(e.translate.TR_DIRECTOR),1)]))],2)])]),-1==n.id?((0,r.wg)(),(0,r.iD)("div",J,[(0,r._)("div",{class:"groupCarimbo",onClick:t[11]||(t[11]=(...e)=>a.FinishRecord&&a.FinishRecord(...e))},[W,(0,r._)("div",Q,[(0,r._)("p",X,(0,m.zw)(e.translate.TR_FINALIZE),1)])])])):(0,r.kq)("",!0)],2)])}var te={name:"RecordView",props:{id:{}},data:function(){return{intervalTimestamp:null,textBackup:"",scrollHeight:0,hideAnonymous:this.$store.state.hideAnonymous,singleSignature:this.$store.state.singleSignature,confirmation:!1,record:{id:22,name:"你的名字",hours:"00:00",job:"",number:"",date:"01/12/2000",report:"                  ",anonymous:!1},isAnonymous:!1,hasDeclaration:!1,notDeclared:!1,translate:this.$store.state.translate}},methods:{SetAnonymous:function(e){-1==this.id&&(this.isAnonymous=e)},SetDeclaration:function(e){-1==this.id&&(this.hasDeclaration=e)},ValidateTextArea:function(){let e="                  ";if(this.record.report.substring(0,e.length)!=e){while(" "==this.record.report[0])this.record.report=this.record.report.slice(1);this.record.report=`${e}${this.record.report}`}this.$refs.reportTextarea.scrollHeight>this.scrollHeight&&(this.record.report=this.textBackup),this.textBackup=this.record.report},RemovePlaceholder:function(){let e="                  ",t=`${e}${this.translate.TR_WRITE_REPORT}`;this.record.report==t&&(this.record.report=e)},AddPlaceholder:function(){let e="                  ",t=`${e}${this.translate.TR_WRITE_REPORT}`;this.record.report==e&&(this.record.report=t)},GetRecord:function(e){return this.$store.state.records.filter((t=>t.id==e))[0]},LoadDocumentById:function(e){let t=this.GetRecord(e);this.record=t,this.isAnonymous=t.anonymous,this.hasDeclaration=!0,this.confirmation=!0},LoadInformation:function(){this.record.name=this.$store.state.nameReport,this.record.id=this.$store.state.nextId},GetNow:function(){const e=new Date;let t=""+e.getHours(),n=""+e.getMinutes(),o=""+e.getSeconds(),r=""+(e.getMonth()+1),s=""+e.getDate(),i=this.$store.state.dateFormat;1==t.length&&(t=`0${t}`),1==n.length&&(n=`0${n}`),1==o.length&&(o=`0${o}`),1==r.length&&(r=`0${r}`),1==s.length&&(s=`0${s}`),this.record.date=i.replace("%d",s).replace("%m",r).replace("%y",e.getFullYear()),this.record.hours=t+":"+n+":"+o},FinishRecord:function(){if(!this.confirmation){if(!this.hasDeclaration)return this.notDeclared=!0,void setTimeout((()=>this.notDeclared=!1),2e3);this.record.anonymous=this.isAnonymous,this.isAnonymous&&(this.record.name=this.translate.TR_ANONYMOUS),this.SendToClient("FinishRecord",{record:this.record})}},Close:function(){this.SendToClient("Close",{}),this.$store.commit("SetOpenned",!1),this.$router.replace({path:"/"})},SendToClient:function(e,t){a.Z.post(`https://${this.$store.state.nameResource}/${e}`,t).catch((t=>console.log(`An error has occurred (RecordView): ${e} : ${t}`)))},ReceiveLua:function(e){if(!e||!e.data)return;const t=e.data;t.confirmRecord&&(this.confirmation=!0,setTimeout((()=>{this.Close()}),2e3))}},mounted:function(){-1==this.id?(this.intervalTimestamp=setInterval(this.GetNow,1e3),this.AddPlaceholder(),this.LoadInformation()):this.LoadDocumentById(this.id),this.scrollHeight=this.$refs.reportTextarea.scrollHeight},unmounted:function(){clearInterval(this.intervalTimestamp),window.removeEventListener("message",this.ReceiveLua),window.removeEventListener("keydown",this.KeyPress)},created:function(){window.addEventListener("message",this.ReceiveLua),window.addEventListener("keydown",this.KeyPress)}};const ne=(0,c.Z)(te,[["render",ee],["__scopeId","data-v-633db918"]]);var oe=ne;const re=e=>((0,r.dD)("data-v-2c0094e8"),e=e(),(0,r.Cn)(),e),se={class:"screenScope lg-column"},ie={class:"close"},ae={class:"titleScope lg-line"},le=re((()=>(0,r._)("img",{src:"img/police.png",alt:""},null,-1))),ce={class:"titleText lg-column lg-justifyCenter"},de={class:"leagueSpartan"},ue={class:"vollkorn"},he={class:"barScope lg-line"},me={class:"directoryScope lg-line lg-flex lg-alignCenter"},pe=re((()=>(0,r._)("i",{class:"far fa-folder-open"},null,-1))),ge={class:"montserratLight"},Re=re((()=>(0,r._)("span",null,">",-1))),_e=re((()=>(0,r._)("span",null,">",-1))),fe={class:"searchScope lg-line lg-alignCenter"},Te=re((()=>(0,r._)("i",{class:"fas fa-search fa-flip-horizontal"},null,-1))),ve=["placeholder"],we={key:0,class:"listFolders lg-line lg-hideScroll"},ye=["onClick"],Se={class:"leagueSpartan number"},Ce=re((()=>(0,r._)("img",{src:"img/folder.png",alt:""},null,-1))),Ee={class:"montserratLight name"},ke={key:1,class:"listEmpty lg-line lg-justifyCenter lg-alignCenter lg-flex"},De={class:"montserratLight"},Oe=re((()=>(0,r._)("div",{class:"computerScope lg-posCenter"},null,-1)));function Ae(e,t,n,s,i,a){return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("div",se,[(0,r._)("div",ie,[(0,r._)("img",{src:"img/x.png",class:"",onClick:t[0]||(t[0]=(...e)=>a.Close&&a.Close(...e))})]),(0,r._)("div",ae,[le,(0,r._)("div",ce,[(0,r._)("h1",de,(0,m.zw)(e.translate.TR_POLICE_DEPARTMENT),1),(0,r._)("h2",ue,(0,m.zw)(e.translate.TR_SUBTITLE),1)])]),(0,r._)("div",he,[(0,r._)("div",me,[pe,(0,r._)("p",ge,[Re,(0,r.Uk)((0,m.zw)(e.translate.TR_THIS_COMPUTER),1),_e,(0,r.Uk)((0,m.zw)(e.translate.TR_REGISTERED_REPORTS),1)])]),(0,r._)("div",fe,[Te,(0,r.wy)((0,r._)("input",{type:"text",class:"montserratLight",placeholder:e.translate.TR_SEARCH,"onUpdate:modelValue":t[1]||(t[1]=t=>e.search=t)},null,8,ve),[[o.nr,e.search]])])]),e.records.filter((t=>t.name.toLowerCase().includes(e.search.toLowerCase())||t.id==e.search)).length>0?((0,r.wg)(),(0,r.iD)("div",we,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.records.filter((t=>t.name.toLowerCase().includes(e.search.toLowerCase())||t.id==e.search)),((t,n)=>((0,r.wg)(),(0,r.iD)("div",{class:"folderScope",key:`record_${n}`,onClick:e=>a.OpenRecord(t.id)},[(0,r._)("p",Se,(0,m.zw)(t.id),1),Ce,(0,r._)("p",Ee,(0,m.zw)(t.anonymous?e.translate.TR_ANONYMOUS:t.name),1)],8,ye)))),128))])):((0,r.wg)(),(0,r.iD)("div",ke,[(0,r._)("p",De,(0,m.zw)(e.translate.TR_NO_RECORD_FOUND),1)]))]),Oe])}var $e={name:"ComputerView",data:function(){return{search:"",records:this.$store.state.records,translate:this.$store.state.translate}},methods:{OpenRecord:function(e){e&&this.$router.push({name:"RecordView",params:{id:e}})},Close:function(){this.SendToClient("Close",{}),this.$store.commit("SetOpenned",!1)},SendToClient:function(e,t){a.Z.post(`https://${this.$store.state.nameResource}/${e}`,t).catch((t=>console.log(`An error has occurred (ComputerView): ${e} : ${t}`)))}},mounted:function(){},unmounted:function(){}};const Ne=(0,c.Z)($e,[["render",Ae],["__scopeId","data-v-2c0094e8"]]);var Ie=Ne;const xe=[{path:"/computerview",name:"ComputerView",component:Ie},{path:"/recordview/:id",name:"RecordView",props:!0,component:oe}],Le=(0,h.p7)({history:(0,h.r5)(),routes:xe});var Pe=Le,be=n(65),Me=(0,be.MT)({state:{openned:!1,nameResource:"lg_policereport",nameRecord:"asd",nextId:0,records:[{id:2311,name:"马克·约翰逊",job:"驾驶室",number:"678-932",hours:"14:09:05",date:"01/08/2023",anonymous:!1,report:"                  在9/23的午夜，我离开市场时被抢劫。 这是两名武装人员在绿色跑车中。 他们前往中心2"}],singleSignature:!1,hideAnonymous:!1,dateFormat:"%d/%m/%y",translate:{TR_NAME_DIRECTOR:"理查德·布朗",TR_POLICE_DEPARTMENT:"警察部门",TR_SUBTITLE:"咨询事件通报记录",TR_THIS_COMPUTER:"这台电脑",TR_REGISTERED_REPORTS:"已注册报告",TR_SEARCH:"在记录中搜索",TR_NO_RECORD_FOUND:"未找到记录...",TR_NAME:"姓名",TR_JOB:"职业",TR_PHONE_NUMBER:"电话号码",TR_REPORT:"报告",TR_ANONYMOUS:"匿名",TR_DECLARATION:"我在法律框架下宣布，根据法律规定，上述提供的信息是真实和可靠的。",TR_DECLARANT:"申报人",TR_DIRECTOR:"主管",TR_INFORM_JOB:"在此处提供您的职业",TR_INFORM_NUMBER:"在此处提供您的电话号码",TR_WRITE_REPORT:"在此处撰写您的故事",TR_REGISTRATION_NUMBER:"注册号码",TR_FINALIZE:"完成"}},getters:{},mutations:{SetNameResource(e,t){e.nameResource=t},SetTranslation(e,t){e.translate=t},SetSingleSignature(e,t){e.singleSignature=t},SetHideAnonymous(e,t){e.hideAnonymous=t},SetDateFormat(e,t){e.dateFormat=t},SetRecords(e,t){e.records=t},SetOpenned(e,t){e.openned=t},SetNameReport(e,t){e.nameReport=t},SetNextId(e,t){e.nextId=t}},actions:{},modules:{}});(0,o.ri)(u).use(Me).use(Pe).mount("#app")}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var s=t[o]={exports:{}};return e[o].call(s.exports,s,s.exports,n),s.exports}n.m=e,function(){var e=[];n.O=function(t,o,r,s){if(!o){var i=1/0;for(d=0;d<e.length;d++){o=e[d][0],r=e[d][1],s=e[d][2];for(var a=!0,l=0;l<o.length;l++)(!1&s||i>=s)&&Object.keys(n.O).every((function(e){return n.O[e](o[l])}))?o.splice(l--,1):(a=!1,s<i&&(i=s));if(a){e.splice(d--,1);var c=r();void 0!==c&&(t=c)}}return t}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[o,r,s]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var r,s,i=o[0],a=o[1],l=o[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(r in a)n.o(a,r)&&(n.m[r]=a[r]);if(l)var d=l(n)}for(t&&t(o);c<i.length;c++)s=i[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(d)},o=self["webpackChunkpolicereport"]=self["webpackChunkpolicereport"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(9893)}));o=n.O(o)})();
//# sourceMappingURL=app.e56626bd.js.map